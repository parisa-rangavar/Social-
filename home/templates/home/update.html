{% extends 'base.html' %}
{% load static %}

{#{% block content %}#}
{#    <form action="" method="post" novalidate>#}
{#        {% csrf_token %}#}
{#        {{ form.as_p }}#}
{#        <input type="submit" value="update">#}
{##}
{#    </form>#}
{##}
{#{% endblock %}#}
{% block content %}


        <div class="row py-5 px-4">
            <div class="col-md-5 mx-auto"> <!-- Profile widget -->
                    <div class="bg-white shadow rounded overflow-hidden">

                            <div class="bg-light p-4 d-flex justify-content-end text-center">
                                     <form class="" action="" method="post" enctype="multipart/form-data">
                                            {% csrf_token %}
{#                                            {{ form.as_p }}#}


                                         <div class="form-group">
                                             {{ form.body.errors }}
                                             {{ form.body.label}}
                                             {{ form.body}}
                                         </div>


                                         <div class="form-group">
                                                {{ form.image.label_tag }}
                                                {{ form.image.errors }}

                                                <label for="id_image">
                                                    {% if form.instance.image %}
                                                        <img id="preview-image" alt="post image" width="130" class="rounded mb-2 img-thumbnail mr-2" src="{{ form.instance.image.url }}">
{#                                                        <img src="{{ post.image.url }}" width="300" height="300">#}
                                                    {% else %}
                                                        <img src="{% static 'images/default-image-post.jpg' %}" alt="default">
                                                    {% endif %}
{#                                                    <img id="preview-image" alt="post image" width="130" class="rounded mb-2 img-thumbnail mr-2" src="{{ user.post.image.url }}">#}
                                                </label>

                                                <input type="file" name="{{ form.image.name }}" id="id_image" style="display: none;" onchange="previewFile(this)">
                                         </div>

<script>
    function previewFile(input) {
        var file = input.files[0];
        var reader = new FileReader();
        reader.onload = function(e) {
            document.getElementById('preview-image').src = e.target.result;
        };
        reader.readAsDataURL(file);
    }
</script>


                                            <input class="btn btn-primary" type="submit" value="Edit">
                                     </form>

                            </div>


                    </div>
                </div>
        </div>




</body>
</html>
{% endblock %}

